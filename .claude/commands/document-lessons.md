# 📝 作業知見のドキュメント化

今回の対応で得られた知見を永続的なドキュメントに記録します。

## 実施内容

以下の手順で知見を体系的に整理・記録してください：

### 1. 今回の作業内容の確認

- 解決したIssue番号とタイトル
- 実装した機能や修正内容
- 遭遇した問題と解決方法
- 発見した重要なパターンやアンチパターン

### 2. ドキュメント化が必要な知見の特定

以下のカテゴリーで分類してください：

#### 🏗️ アーキテクチャ原則
- 新しいビジネスルールや設計パターン
- SSOT原則に関する新しい実装例
- イベント駆動アーキテクチャの応用例

#### 📖 開発ガイドライン
- コーディング規約の新しい事例
- テスト方針の改善点
- ビルド・デプロイの新しい知見

#### 🔧 技術的な発見
- Android/Kotlin/Composeの新しいベストプラクティス
- WorkManager、Room、FTS4などの実装パターン
- パフォーマンス最適化の知見

#### ⚠️ 注意事項・落とし穴
- 遭遇したバグや問題とその対策
- 避けるべき実装パターン
- 既存コードの改善すべき点

### 3. 適切なドキュメントへの反映

知見の種類に応じて、以下のドキュメントに追記してください：

| カテゴリー | ドキュメントパス |
|-----------|----------------|
| ビジネスルール | `docs/architecture/business-rules.md` |
| イベント駆動 | `docs/architecture/event-driven.md` |
| Pagingパターン | `docs/architecture/paging-patterns.md` |
| コーディング規約 | `docs/guides/coding-standards.md` |
| テストガイド | `docs/guides/testing.md` |
| データベース | `docs/guides/database-best-practices.md` |
| ビルド・デプロイ | `docs/guides/build-deploy.md` |
| スキル教訓 | `.claude/skills/[skill-name]/LESSONS_LEARNED.md` |

### 4. WIPドキュメントの統合

`docs/wip/`配下の一時ドキュメントで、体系的ドキュメントに統合すべき内容があれば移行してください。

### 5. 記録のフォーマット

以下の形式で記録してください：

```markdown
### [タイトル] (追加日: YYYY-MM-DD)

**背景:**
- なぜこの知見が重要なのか
- どのような問題を解決するのか

**実装例:**
```kotlin
// コード例
```

**参考:**
- [ファイル名.kt:行番号](path/to/file.kt#L123)
- 関連Issue: #123
- 関連PR: #456

**注意点:**
- 陥りやすい間違い
- 既存コードで改善すべき箇所
```

### 6. CLAUDE.mdの更新確認

主要な変更があった場合は、`CLAUDE.md`の以下のセクションも更新してください：

- プロジェクト概要
- 重要事項
- コーディング規約
- アーキテクチャ原則

## 実行時の確認事項

- [ ] 知見がプロジェクト全体で再利用可能な内容か
- [ ] コード例が実際の実装を参照しているか
- [ ] 他の開発者が理解しやすい説明になっているか
- [ ] 既存ドキュメントとの重複や矛盾がないか
- [ ] WIPドキュメントを整理・統合したか

## 出力形式

最終的に以下の形式で報告してください：

```markdown
## 📝 ドキュメント化完了報告

### 更新したドキュメント

1. **[ドキュメント名]** ([パス](path))
   - 追加内容: [簡潔な説明]
   - 関連Issue/PR: #123

2. **[ドキュメント名]** ([パス](path))
   - 追加内容: [簡潔な説明]

### 統合したWIPドキュメント

- [x] `docs/wip/issue-123-xxx.md` → `docs/architecture/business-rules.md`に統合
- [x] `docs/wip/debugging-notes.md` → 削除（内容を`testing.md`に反映）

### 今回ドキュメント化しなかった理由

- 一時的な対応で再利用性が低い
- 既存ドキュメントで十分カバーされている
```
